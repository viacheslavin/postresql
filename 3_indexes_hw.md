# Написать запросы поиска данных без индексов, посмотреть их план запросов.
1.
explain (costs true, verbose true, format json, analyze true)
select *
from flights
where status = 'Delayed';

2.
explain (costs true, verbose true, format json, analyze true)
select *
from flights
where departure_airport = 'DME'
and scheduled_departure between '2016-07-01' and '2016-08-31';

# Добавить на таблицы индексы с целью оптимизации запросов поиска данных.
1.
Простой индекс
create index idx_flights_status on flights(status);

2.
Составной индекс
create index idx_flights_airport_sched on flights(departure_airport, scheduled_departure);

# Сравнить новые планы запросов с предыдущими.
1.
Без индекса идет последовательное сканирование, запрос занимает около 6 мс
После создания испольлзуется Index Scan и запрос занимает меньше 1 мс

2.
Без индекса идет последовательное сканирование, запрос занимает около 2 мс
После создания испольлзуется Index Scan с использованием составного индекса и запрос занимает меньше 1 мс

# Сравнить применение различных типов индексов.

B-tree - в PostgreSQL используется по умолчанию
Универсальный индекс, может использоваться для диапазонов, подждерживает операции стравнения =, <, >, BETWEEN, LIKE

Остальные типы индекса создаются с использованием команды USING

Hash
Точный поиск по значению, поддерживает только =, но работает быстрее

GiST	
Используется для специфических типов данных: геометрии, сетевые адреса, диапазоны

GIN
Используется для полнотекстовго поиска, массивов, jsonb

BRIN
Используется для очень больших таблиц